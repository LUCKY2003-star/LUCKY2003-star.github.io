<!DOCTYPE html>
<html>
<head>
    <title>浪漫圣诞树</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background: #000;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }
        
        .tree {
            position: relative;
            width: 300px;
            height: 500px;
        }
        
        .lights {
            position: absolute;
            width: 100%;
            height: 100%;
        }
        
        .light {
            position: absolute;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            animation: twinkle 1s infinite alternate;
        }
        
        .star {
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 30px;
            height: 30px;
            background: gold;
            clip-path: polygon(
                50% 0%,
                61% 35%,
                98% 35%,
                68% 57%,
                79% 91%,
                50% 70%,
                21% 91%,
                32% 57%,
                2% 35%,
                39% 35%
            );
            animation: glow 1s infinite alternate;
        }
        
        .snow {
            position: absolute;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }
        
        @keyframes twinkle {
            0% { opacity: 0.3; }
            100% { opacity: 1; }
        }
        
        @keyframes glow {
            0% { box-shadow: 0 0 5px gold; }
            100% { box-shadow: 0 0 20px gold, 0 0 30px gold; }
        }
        
        @keyframes fall {
            0% { transform: translateY(-10px) rotate(0deg); }
            100% { transform: translateY(500px) rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="tree">
        <div class="star"></div>
        <div class="lights" id="lights"></div>
        <div class="snow" id="snow"></div>
    </div>

    <script>
        // 创建圣诞树灯光
        const lightsContainer = document.getElementById('lights');
        const colors = ['#ff0000', '#00ff00', '#0000ff', '#ffff00', '#ff00ff', '#00ffff'];
        
        // 创建三角形圣诞树
        for (let i = 0; i < 150; i++) {
            const light = document.createElement('div');
            light.className = 'light';
            
            // 随机位置 (三角形区域内)
            let x, y;
            const layer = Math.floor(Math.random() * 3); // 0, 1, 2
            
            if (layer === 0) {
                // 底层
                y = 300 + Math.random() * 200;
                x = 150 - (y - 300) * 0.5 + Math.random() * (y - 300);
            } else if (layer === 1) {
                // 中层
                y = 150 + Math.random() * 150;
                x = 150 - (y - 150) * 0.75 + Math.random() * (y - 150) * 1.5;
            } else {
                // 顶层
                y = 50 + Math.random() * 100;
                x = 150 - (y - 50) + Math.random() * (y - 50) * 2;
            }
            
            light.style.left = x + 'px';
            light.style.top = y + 'px';
            light.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
            light.style.animationDelay = Math.random() + 's';
            
            lightsContainer.appendChild(light);
        }
        
        // 创建雪花效果
        const snowContainer = document.getElementById('snow');
        
        function createSnowflake() {
            const snowflake = document.createElement('div');
            snowflake.style.position = 'absolute';
            snowflake.style.width = Math.random() * 5 + 3 + 'px';
            snowflake.style.height = snowflake.style.width;
            snowflake.style.backgroundColor = 'white';
            snowflake.style.borderRadius = '50%';
            snowflake.style.left = Math.random() * 300 + 'px';
            snowflake.style.top = '-10px';
            snowflake.style.opacity = Math.random() * 0.5 + 0.5;
            
            const animationDuration = Math.random() * 3 + 2;
            snowflake.style.animation = `fall ${animationDuration}s linear infinite`;
            
            snowContainer.appendChild(snowflake);
            
            // 移除雪花以优化性能
            setTimeout(() => {
                snowflake.remove();
            }, animationDuration * 1000);
        }
        
        // 定期创建雪花
        setInterval(createSnowflake, 100);
        
        // 初始创建一些雪花
        for (let i = 0; i < 20; i++) {
            setTimeout(createSnowflake, Math.random() * 2000);
        }
    </script>
</body>
</html>
